#!/bin/bash
# Kill script for homelab
# Generated by Ansible - edit the template, not this file

PROJECT_NAME="homelab"
PROJECT_DIR="$HOME/Projects/homelab"

echo "Stopping $PROJECT_NAME..."

# Kill VS Code window for this project
echo "Closing VS Code..."
VSCODE_ADDRS=$(hyprctl clients -j | jq -r --arg dir "$PROJECT_DIR" '.[] | select(.class == "code" or .class == "Code") | select(.title | contains($dir) or contains("homelab")) | .address')
for addr in $VSCODE_ADDRS; do
    hyprctl dispatch closewindow "address:$addr" 2>/dev/null
done

echo "Done! $PROJECT_NAME stopped."

# Brightness keys - override Omarchy defaults to use ddcutil for external monitors
unbind = , XF86MonBrightnessUp
unbind = , XF86MonBrightnessDown
unbind = SHIFT, XF86MonBrightnessUp
unbind = SHIFT, XF86MonBrightnessDown
bindeld = , XF86MonBrightnessUp, Brightness up, exec, ~/.bin/brightness up
bindeld = , XF86MonBrightnessDown, Brightness down, exec, ~/.bin/brightness down

# Application bindings
bindd = SUPER, RETURN, Terminal, exec, uwsm-app -- xdg-terminal-exec --dir="$(omarchy-cmd-terminal-cwd)"
bindd = SUPER SHIFT, F, File manager, exec, uwsm-app -- nautilus --new-window
bindd = CTRL SHIFT, F, File manager, exec, uwsm-app -- nautilus --new-window
bindd = SUPER CTRL, Y, Yazi file manager, exec, ghostty --title=yazi -e yazi
bindd = CTRL SHIFT, M, Fullscreen, fullscreen, 0
bindd = SUPER ALT, N, Toggle floating, togglefloating

# Disable Omarchy defaults
unbind = SUPER, T
unbind = SUPER, W
unbind = SUPER, P
unbind = SUPER SHIFT, T
unbind = SUPER SHIFT, O
unbind = SUPER CTRL, V  # Disable clipboard manager default, rebind below
unbind = SUPER, S        # Free up Super+S (was scratchpad toggle)
unbind = SUPER ALT, S    # Free up Super+Alt+S (was move to scratchpad)
unbind = SUPER, Q        # Rebind to custom smart-close behavior

# Close behavior split:
# - Super+W keeps Teams/Outlook sessions alive (hide to special workspace)
# - Super+Q fully quits Teams/Outlook windows and closes normal windows
bindd = SUPER, Q, Quit window/app, exec, ~/.bin/smart-close --quit
bindd = SUPER, W, Smart close, exec, ~/.bin/smart-close

# Scratchpad (moved from Super+S to Super+Y)
bindd = SUPER, Y, Toggle scratchpad, togglespecialworkspace, scratchpad
bindd = SUPER ALT, Y, Move window to scratchpad, movetoworkspacesilent, special:scratchpad
bindd = SUPER SHIFT, B, Browser, exec, omarchy-launch-browser
bindd = SUPER SHIFT ALT, B, Browser (private), exec, omarchy-launch-browser --private
bindd = SUPER SHIFT, S, Music, exec, ~/.bin/launch-or-focus spotify
bindd = SUPER SHIFT, N, Obsidian, exec, omarchy-launch-or-focus ^obsidian$ "uwsm-app -- obsidian -disable-gpu --enable-wayland-ime"
bindd = SUPER SHIFT, M, Activity, exec, omarchy-launch-tui btop
bindd = SUPER SHIFT, T, Teams, exec, ~/.bin/teams-launcher
bindd = SUPER SHIFT, I, Zoom, exec, ~/.bin/zoom-launcher
bindd = SUPER ALT, D, Downloads, exec, uwsm-app -- nautilus --new-window ~/Downloads
bindd = CTRL SHIFT, D, Docker, exec, omarchy-launch-tui lazydocker
bindd = SUPER SHIFT, G, GitHub, exec, ~/.bin/github-launcher
bindd = SUPER SHIFT, O, Outlook, exec, ~/.bin/outlook-launcher
bindd = SUPER SHIFT, R, Slack, exec, omarchy-launch-or-focus-webapp "Slack" "https://app.slack.com"
bindd = SUPER SHIFT, U, Claude, exec, ~/.bin/claude-launcher
bindd = SUPER SHIFT, W, Window switcher, exec, hyprswitch gui --mod-key super --key w --close default
bindd = SUPER SHIFT, SLASH, Passwords, exec, uwsm-app -- 1password

# If your web app url contains #, type it as ## to prevent hyprland treating it as a comment
bindd = SUPER SHIFT, A, ChatGPT, exec, ~/.bin/chatgpt-launcher
bindd = CTRL SHIFT, A, ChatGPT, exec, ~/.bin/chatgpt-launcher
# Alt+Shift+C removed - Claude now on Super+Shift+K
bindd = SUPER SHIFT, C, Calendar, exec, morgen
bindd = SUPER ALT, J, Agenda, exec, ghostty --class=agenda --title=agenda -e bash -c "~/.bin/agenda; read -rsn1"
bindd = SUPER SHIFT, E, Email, exec, omarchy-launch-or-focus Fastmail fastmail
bindd = SUPER SHIFT, Y, YouTube, exec, ~/.bin/youtube-launcher
bindd = SUPER SHIFT ALT, G, WhatsApp, exec, omarchy-launch-or-focus-webapp WhatsApp "https://web.whatsapp.com/"
bindd = SUPER SHIFT CTRL, G, Google Messages, exec, omarchy-launch-or-focus-webapp "Google Messages" "https://messages.google.com/web/conversations"
bindd = SUPER SHIFT, P, Immich, exec, ~/.bin/immich-launcher

# Navigate workspaces with Super+Alt+number
bindd = SUPER ALT, 1, Switch to workspace 1, workspace, 1
bindd = SUPER ALT, 2, Switch to workspace 2, workspace, 2
bindd = SUPER ALT, 3, Switch to workspace 3, workspace, 3
bindd = SUPER ALT, 4, Switch to workspace 4, workspace, 4
bindd = SUPER ALT, 5, Switch to workspace 5, workspace, 5
bindd = SUPER ALT, 6, Switch to workspace 6, workspace, 6
bindd = SUPER ALT, 7, Switch to workspace 7, workspace, 7
bindd = SUPER ALT, 8, Switch to workspace 8, workspace, 8
bindd = SUPER ALT, 9, Switch to workspace 9, workspace, 9
bindd = SUPER ALT, 0, Switch to workspace 10, workspace, 10
bindd = ALT, minus, Switch to workspace 11, workspace, 11
bindd = ALT, equal, Switch to workspace 12, workspace, 12

# Navigate workspaces with Super+number (mac-style Cmd+#)
bindd = SUPER, 1, Switch to workspace 1, workspace, 1
bindd = SUPER, 2, Switch to workspace 2, workspace, 2
bindd = SUPER, 3, Switch to workspace 3, workspace, 3
bindd = SUPER, 4, Switch to workspace 4, workspace, 4
bindd = SUPER, 5, Switch to workspace 5, workspace, 5
bindd = SUPER, 6, Switch to workspace 6, workspace, 6
bindd = SUPER, 7, Switch to workspace 7, workspace, 7
bindd = SUPER, 8, Switch to workspace 8, workspace, 8
bindd = SUPER, 9, Switch to workspace 9, workspace, 9
bindd = SUPER, 0, Switch to workspace 10, workspace, 10
bindd = SUPER, minus, Switch to workspace 11, workspace, 11
bindd = SUPER, equal, Switch to workspace 12, workspace, 12

unbind = SUPER, F
bindd = SUPER ALT, M, Focus mode, exec, ~/.config/hypr/scripts/focus-mode.sh

# Utility workspace (grave/backtick)
bindd = SUPER, grave, Switch to utility workspace, workspace, name:U
bindd = SUPER SHIFT, grave, Move window to utility, movetoworkspace, name:U
bindd = ALT, grave, Move window to utility, movetoworkspace, name:U
bindd = CTRL, grave, Launch utility workspace, exec, ~/.bin/ws U

# =============================================================================
# Vim-style Navigation (Super + hjkl)
# =============================================================================

# Unbind Omarchy defaults that conflict
unbind = SUPER, K
unbind = SUPER, J

# Rebind Omarchy functions to Alt
bindd = ALT, K, Show key bindings, exec, omarchy-menu-keybindings
bindd = ALT, J, Toggle window split, togglesplit

# Focus navigation
bindd = SUPER, H, Move focus left, movefocus, l
bindd = SUPER, J, Move focus down, movefocus, d
bindd = SUPER, K, Move focus up, movefocus, u
bindd = SUPER, L, Move focus right, movefocus, r

# Unbind Omarchy defaults (keyd handles Super+Arrow for text nav)
unbind = SUPER, LEFT
unbind = SUPER, RIGHT
unbind = SUPER SHIFT, LEFT
unbind = SUPER SHIFT, RIGHT
unbind = SUPER SHIFT, UP
unbind = SUPER SHIFT, DOWN

# ALT+arrows freed for app use (browser back/forward via keyd)
# Window focus available via SUPER+HJKL above

# Swap windows with Super+Shift+HJKL
bindd = SUPER SHIFT, H, Swap window left, swapwindow, l
bindd = SUPER SHIFT, J, Swap window down, swapwindow, d
bindd = SUPER SHIFT, K, Swap window up, swapwindow, u
bindd = SUPER SHIFT, L, Swap window right, swapwindow, r

# Resize windows (horizontal)
bindd = SUPER SHIFT, comma, Shrink window width, resizeactive, -100 0
bindd = SUPER SHIFT, period, Grow window width, resizeactive, 100 0

# Resize windows (vertical)
bindd = CTRL SHIFT, comma, Shrink window height, resizeactive, 0 -100
bindd = CTRL SHIFT, period, Grow window height, resizeactive, 0 100

# Navigate workspaces with windows (Super + [ ])
bindd = SUPER, bracketleft, Previous workspace with windows, exec, ~/.config/hypr/scripts/workspace-with-windows.sh prev
bindd = SUPER, bracketright, Next workspace with windows, exec, ~/.config/hypr/scripts/workspace-with-windows.sh next

# Move window to adjacent workspace (Super + Shift + [ ])
# In Chromium: switches tabs instead
bindd = SUPER SHIFT, bracketleft, Prev tab/workspace, exec, ~/.config/hypr/scripts/tab-or-workspace.sh prev
bindd = SUPER SHIFT, bracketright, Next tab/workspace, exec, ~/.config/hypr/scripts/tab-or-workspace.sh next

# Navigate workspaces with arrows
bindd = SUPER CTRL, LEFT, Previous workspace, workspace, r-1
bindd = SUPER CTRL, RIGHT, Next workspace, workspace, r+1

# =============================================================================
# Clipboard history
# =============================================================================
bindd = SUPER ALT, C, Clipboard history, exec, cliphist list | walker --dmenu | cliphist decode | wl-copy

# =============================================================================
# Run command (walker runner)
# =============================================================================
bindd = SUPER SHIFT, X, Run command, exec, ~/.bin/run-cmd

# =============================================================================
# Layouts
# =============================================================================
bindd = SUPER SHIFT, D, Toggle layout (dwindle/master), exec, hyprctl keyword general:layout $(hyprctl getoption general:layout -j | jq -r 'if .str == "dwindle" then "master" else "dwindle" end')
# Toggle floating removed - conflicts with file manager on ALT SHIFT F

# =============================================================================
# Audio
# =============================================================================
bindd = SUPER CTRL, A, Switch audio output, exec, omarchy-cmd-audio-switch
bindd = CTRL ALT, A, Switch audio output, exec, omarchy-cmd-audio-switch

# =============================================================================
# Cheatsheet
# =============================================================================
bindd = SUPER ALT, H, Show cheatsheet, exec, ghostty --class=floating --title=cheatsheet -e bash -c "cat ~/Omarchy/home/.cheatsheet; read -rsn1"
bindd = SUPER ALT, S, System health, exec, ghostty --class=floating --title="System Health" -e bash -c "~/.bin/system-health; read -rsn1"



# =============================================================================
# Move windows with Super+Shift+number (mac-style Cmd+Shift+#)
# =============================================================================
bindd = SUPER SHIFT, 1, Move to workspace 1, movetoworkspace, 1
bindd = SUPER SHIFT, 2, Move to workspace 2, movetoworkspace, 2
bindd = SUPER SHIFT, 3, Move to workspace 3, movetoworkspace, 3
# Super+Shift+4 used for Logitech screenshot key
# bindd = SUPER SHIFT, 4, Move to workspace 4, movetoworkspace, 4
bindd = SUPER SHIFT, 5, Move to workspace 5, movetoworkspace, 5
bindd = SUPER SHIFT, 6, Move to workspace 6, movetoworkspace, 6
bindd = SUPER SHIFT, 7, Move to workspace 7, movetoworkspace, 7
bindd = SUPER SHIFT, 8, Move to workspace 8, movetoworkspace, 8
bindd = SUPER SHIFT, 9, Move to workspace 9, movetoworkspace, 9
bindd = SUPER SHIFT, 0, Move to workspace 10, movetoworkspace, 10
bindd = SUPER SHIFT, minus, Move to workspace 11, movetoworkspace, 11
bindd = SUPER SHIFT, equal, Move to workspace 12, movetoworkspace, 12

# =============================================================================
# Screenshots
# =============================================================================
bindd = SUPER CTRL, 2, Screenshot full, exec, sh -c 'd="$HOME/Screenshots/$(date +%Y/%m/%d)"; mkdir -p "$d"; f="$d/$(date +%H%M%S).png"; grim "$f" && echo -n "$f" | wl-copy && notify-send "Screenshot" "$f" -t 1500'
bindd = SUPER CTRL, 3, Screenshot selection, exec, sh -c 'd="$HOME/Screenshots/$(date +%Y/%m/%d)"; mkdir -p "$d"; f="$d/$(date +%H%M%S).png"; grim -g "$(slurp)" "$f" && echo -n "$f" | wl-copy && notify-send "Screenshot" "$f" -t 1500'
bindd = SUPER SHIFT, 4, Screenshot (Logitech key), exec, sh -c 'd="$HOME/Screenshots/$(date +%Y/%m/%d)"; mkdir -p "$d"; f="$d/$(date +%H%M%S).png"; grim "$f" && echo -n "$f" | wl-copy && notify-send "Screenshot" "$f" -t 1500'

# =============================================================================
# Mouse bindings
# mouse:275 = BTN_SIDE (back thumb) - gesture button
# mouse:276 = BTN_EXTRA (forward thumb)
# mouse:274 = BTN_MIDDLE - middle mouse button
# =============================================================================
# Super + scroll = workspace switching (unbind Omarchy defaults first)
unbind = SUPER, mouse_down
unbind = SUPER, mouse_up
bindd = SUPER, mouse_down, Next workspace, workspace, e+1
bindd = SUPER, mouse_up, Previous workspace, workspace, e-1

# Ctrl + scroll = volume control, Ctrl + middle mouse = mute toggle
bindde = CTRL, mouse_down, Volume up, exec, swayosd-client --output-volume raise
bindde = CTRL, mouse_up, Volume down, exec, swayosd-client --output-volume lower
bindd = CTRL, mouse:274, Toggle mute, exec, swayosd-client --output-volume mute-toggle

# Alt + scroll = resize window width
bindde = ALT, mouse_down, Grow width, resizeactive, 100 0
bindde = ALT, mouse_up, Shrink width, resizeactive, -100 0

# Super+Alt + scroll = resize window height
bindde = SUPER ALT, mouse_down, Shrink height, resizeactive, 0 -100
bindde = SUPER ALT, mouse_up, Grow height, resizeactive, 0 100

# Gesture button (mouse:278 = mouseback) = window switcher
bindd = , mouse:278, Window switcher, exec, hyprswitch gui --mod-key super --key w --close default

# Super + mouse buttons = swap windows
# mouse:275 = mouse1 (BTN_SIDE), mouse:276 = mouse2 (BTN_EXTRA)
bindd = SUPER, mouse:275, Swap window left, swapwindow, l
bindd = SUPER, mouse:276, Swap window right, swapwindow, r

# Alt + mouse buttons = smart focus (navigate windows/workspaces)
bindd = ALT, mouse:275, Smart focus left, exec, ~/.config/hypr/scripts/smart-focus.sh left
bindd = ALT, mouse:276, Smart focus right, exec, ~/.config/hypr/scripts/smart-focus.sh right

# =============================================================================
# Quick Notes (Super+Alt+Shift+K)
# =============================================================================
bindd = SUPER ALT SHIFT, K, Quick notes, exec, uwsm-app -- subl ~/Notes/Working\ Memory.md

# =============================================================================
# Calculator
# =============================================================================
bindd = SUPER CTRL, C, Calculator, exec, omarchy-launch-or-focus gnome-calculator gnome-calculator

# File Search (Super+Ctrl+S) - rebind color picker to Super+Ctrl+R
# =============================================================================
unbind = SUPER CTRL, S
bindd = SUPER CTRL, R, Color picker, exec, pkill hyprpicker || hyprpicker -a
bindd = SUPER CTRL, S, File search, exec, ~/.bin/file-search
bindd = SUPER CTRL SHIFT, S, File search (reveal), exec, ~/.bin/file-search --reveal

# JHU VPN Menu (Super+Ctrl+J)
# =============================================================================
bindd = SUPER CTRL, J, JHU VPN, exec, ~/.bin/jhvpn-menu

# VPN Menu (Super+Ctrl+V) - Tailscale and other non-JHU VPNs
# =============================================================================
bindd = SUPER CTRL, V, VPN Menu, exec, ~/.bin/vpn-menu

# Clipboard Manager (Super+Alt+V) - moved from Super+Ctrl+V
# =============================================================================
bindd = SUPER ALT, V, Clipboard manager, exec, omarchy-launch-walker -m clipboard

# =============================================================================
# Window Toggle (Super+Tab = last focused window across workspaces)
# IMPORTANT: Keep at END of file to override Omarchy defaults
# =============================================================================
unbind = SUPER, TAB
unbind = SUPER SHIFT, TAB
unbind = SUPER CTRL, TAB
bindd = SUPER, TAB, Toggle last window, exec, ~/.config/hypr/scripts/toggle-last-window.sh
bindd = SUPER SHIFT, TAB, Next workspace, workspace, e+1
bindd = SUPER CTRL, TAB, Previous workspace, workspace, e-1

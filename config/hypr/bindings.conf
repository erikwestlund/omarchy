# Media keys (keyd transforms XF86 codes to these)
bindeld = ,brightnessup, Brightness up, exec, brightnessctl set +5%
bindeld = ,brightnessdown, Brightness down, exec, brightnessctl set 5%-

# Application bindings
bindd = SUPER, RETURN, Terminal, exec, uwsm-app -- xdg-terminal-exec --dir="$(omarchy-cmd-terminal-cwd)"
bindd = CTRL SHIFT, F, File manager, exec, uwsm-app -- nautilus --new-window
bindd = ALT SHIFT, F, Toggle floating, togglefloating

# Disable Omarchy defaults
unbind = SUPER, T
unbind = SUPER, P
unbind = SUPER CTRL, V  # Disable clipboard manager default, rebind below
bindd = SUPER SHIFT, B, Browser, exec, omarchy-launch-browser
bindd = SUPER SHIFT ALT, B, Browser (private), exec, omarchy-launch-browser --private
bindd = SUPER SHIFT, S, Music, exec, omarchy-launch-or-focus spotify
bindd = SUPER SHIFT, N, Obsidian, exec, omarchy-launch-or-focus ^obsidian$ "uwsm-app -- obsidian -disable-gpu --enable-wayland-ime"
bindd = SUPER SHIFT, M, Activity, exec, omarchy-launch-tui btop
bindd = SUPER SHIFT, T, Teams, exec, omarchy-launch-webapp "https://teams.microsoft.com"
bindd = SUPER ALT, D, Docker, exec, omarchy-launch-tui lazydocker
bindd = SUPER SHIFT, G, GitHub, exec, omarchy-launch-webapp "https://github.com/erikwestlund"
bindd = SUPER SHIFT, O, Outlook, exec, omarchy-launch-webapp "https://outlook.office.com"
bindd = SUPER SHIFT, R, Slack, exec, omarchy-launch-webapp "https://app.slack.com"
bindd = SUPER SHIFT, U, Claude, exec, omarchy-launch-webapp "https://claude.ai"
bindd = SUPER SHIFT, W, Window switcher, exec, hyprswitch gui --mod-key super --key w --close default
bindd = SUPER SHIFT, SLASH, Passwords, exec, uwsm-app -- 1password

# If your web app url contains #, type it as ## to prevent hyprland treating it as a comment
bindd = SUPER SHIFT, A, ChatGPT, exec, omarchy-launch-webapp "https://chatgpt.com"
bindd = CTRL SHIFT, A, ChatGPT, exec, omarchy-launch-webapp "https://chatgpt.com"
# Alt+Shift+C removed - Claude now on Super+Shift+K
bindd = SUPER SHIFT ALT, A, Grok, exec, omarchy-launch-webapp "https://grok.com"
bindd = SUPER SHIFT, C, Calendar, exec, morgen
bindd = SUPER ALT, J, Agenda, exec, ghostty --class=agenda --title=agenda -e bash -c "~/.bin/agenda; read -rsn1"
bindd = SUPER SHIFT, E, Email, exec, fastmail
bindd = SUPER SHIFT, Y, YouTube, exec, omarchy-launch-webapp "https://youtube.com/"
bindd = SUPER SHIFT ALT, G, WhatsApp, exec, omarchy-launch-or-focus-webapp WhatsApp "https://web.whatsapp.com/"
bindd = SUPER SHIFT CTRL, G, Google Messages, exec, omarchy-launch-or-focus-webapp "Google Messages" "https://messages.google.com/web/conversations"
bindd = SUPER SHIFT, P, Immich, exec, omarchy-launch-or-focus-webapp "Immich" "https://immich.pequod.sh"

# =============================================================================
# Custom Workspace Bindings (F-key navigation)
# NOTE: Alt+F9 broken by Framework EC firmware - use Super+Shift+9 to move windows
# =============================================================================

# Navigate workspaces with F1-F12 (requires Fn key if media keys are default)
bindd = , F1, Switch to workspace 1, workspace, 1
bindd = , F2, Switch to workspace 2, workspace, 2
bindd = , F3, Switch to workspace 3, workspace, 3
bindd = , F4, Switch to workspace 4, workspace, 4
bindd = , F5, Switch to workspace 5, workspace, 5
bindd = , F6, Switch to workspace 6, workspace, 6
bindd = , F7, Switch to workspace 7, workspace, 7
bindd = , F8, Switch to workspace 8, workspace, 8
bindd = , F9, Switch to workspace 9, workspace, 9
bindd = , F10, Switch to workspace 10, workspace, 10
bindd = , F11, Switch to workspace 11, workspace, 11
bindd = , F12, Switch to workspace 12, workspace, 12

# Navigate workspaces with Super+Alt+number
bindd = SUPER ALT, 1, Switch to workspace 1, workspace, 1
bindd = SUPER ALT, 2, Switch to workspace 2, workspace, 2
bindd = SUPER ALT, 3, Switch to workspace 3, workspace, 3
bindd = SUPER ALT, 4, Switch to workspace 4, workspace, 4
bindd = SUPER ALT, 5, Switch to workspace 5, workspace, 5
bindd = SUPER ALT, 6, Switch to workspace 6, workspace, 6
bindd = SUPER ALT, 7, Switch to workspace 7, workspace, 7
bindd = SUPER ALT, 8, Switch to workspace 8, workspace, 8
bindd = SUPER ALT, 9, Switch to workspace 9, workspace, 9
bindd = SUPER ALT, 0, Switch to workspace 10, workspace, 10
bindd = ALT, minus, Switch to workspace 11, workspace, 11
bindd = ALT, equal, Switch to workspace 12, workspace, 12

# Navigate workspaces with Super+number (mac-style Cmd+#)
bindd = SUPER, 1, Switch to workspace 1, workspace, 1
bindd = SUPER, 2, Switch to workspace 2, workspace, 2
bindd = SUPER, 3, Switch to workspace 3, workspace, 3
bindd = SUPER, 4, Switch to workspace 4, workspace, 4
bindd = SUPER, 5, Switch to workspace 5, workspace, 5
bindd = SUPER, 6, Switch to workspace 6, workspace, 6
bindd = SUPER, 7, Switch to workspace 7, workspace, 7
bindd = SUPER, 8, Switch to workspace 8, workspace, 8
bindd = SUPER, 9, Switch to workspace 9, workspace, 9
bindd = SUPER, 0, Switch to workspace 10, workspace, 10
bindd = SUPER, minus, Switch to workspace 11, workspace, 11
bindd = SUPER, equal, Switch to workspace 12, workspace, 12

# Framework Print Screen key = workspace 11 (unbind defaults first)
unbind = , PRINT
unbind = SHIFT, PRINT
unbind = SUPER, F
unbind = ALT, PRINT
unbind = CTRL, PRINT
bindd = , PRINT, Switch to workspace 11, workspace, 11
bindd = ALT, PRINT, Move window to workspace 11, movetoworkspace, 11
bindd = CTRL, PRINT, Launch workspace 11, exec, ~/.bin/ws 11

# Throw window to workspace with Alt + F1-F12 (and follow)
# Note: SUPER also bound because laptop has altwin:swap_alt_win
bindd = ALT, F1, Move window to workspace 1, movetoworkspace, 1
bindd = ALT, F2, Move window to workspace 2, movetoworkspace, 2
bindd = ALT, F3, Move window to workspace 3, movetoworkspace, 3
bindd = ALT, F4, Move window to workspace 4, movetoworkspace, 4
bindd = ALT, F5, Move window to workspace 5, movetoworkspace, 5
bindd = ALT, F6, Move window to workspace 6, movetoworkspace, 6
bindd = ALT, F7, Move window to workspace 7, movetoworkspace, 7
bindd = ALT, F8, Move window to workspace 8, movetoworkspace, 8
bindd = ALT, F9, Move window to workspace 9, movetoworkspace, 9
bindd = ALT, F10, Move window to workspace 10, movetoworkspace, 10
bindd = ALT, F11, Move window to workspace 11, movetoworkspace, 11
bindd = ALT, F12, Move window to workspace 12, movetoworkspace, 12
bindd = SUPER, F1, Move window to workspace 1, movetoworkspace, 1
bindd = SUPER, F2, Move window to workspace 2, movetoworkspace, 2
bindd = SUPER, F3, Move window to workspace 3, movetoworkspace, 3
bindd = SUPER, F4, Move window to workspace 4, movetoworkspace, 4
bindd = SUPER, F5, Move window to workspace 5, movetoworkspace, 5
bindd = SUPER, F6, Move window to workspace 6, movetoworkspace, 6
bindd = SUPER, F7, Move window to workspace 7, movetoworkspace, 7
bindd = SUPER, F8, Move window to workspace 8, movetoworkspace, 8
bindd = SUPER, F9, Move window to workspace 9, movetoworkspace, 9
bindd = SUPER, F10, Move window to workspace 10, movetoworkspace, 10
bindd = SUPER, F11, Move window to workspace 11, movetoworkspace, 11
bindd = SUPER, F12, Move window to workspace 12, movetoworkspace, 12

# Launch workspace projects with Ctrl + F1-F12
bindd = CTRL, F1, Launch workspace 1, exec, ~/.bin/ws 1
bindd = CTRL, F2, Launch workspace 2, exec, ~/.bin/ws 2
bindd = CTRL, F3, Launch workspace 3, exec, ~/.bin/ws 3
bindd = CTRL, F4, Launch workspace 4, exec, ~/.bin/ws 4
bindd = CTRL, F5, Launch workspace 5, exec, ~/.bin/ws 5
bindd = CTRL, F6, Launch workspace 6, exec, ~/.bin/ws 6
bindd = CTRL, F7, Launch workspace 7, exec, ~/.bin/ws 7
bindd = CTRL, F8, Launch workspace 8, exec, ~/.bin/ws 8
bindd = CTRL, F9, Launch workspace 9, exec, ~/.bin/ws 9
bindd = CTRL, F10, Launch workspace 10, exec, ~/.bin/ws 10
bindd = CTRL, F11, Launch workspace 11, exec, ~/.bin/ws 11
bindd = CTRL, F12, Launch workspace 12, exec, ~/.bin/ws 12

# Utility workspace (grave/backtick)
bindd = SUPER, grave, Switch to utility workspace, workspace, name:U
bindd = SUPER SHIFT, grave, Move window to utility, movetoworkspace, name:U
bindd = ALT, grave, Move window to utility, movetoworkspace, name:U
bindd = CTRL, grave, Launch utility workspace, exec, ~/.bin/ws U

# =============================================================================
# Vim-style Navigation (Super + hjkl)
# =============================================================================

# Unbind Omarchy defaults that conflict
unbind = SUPER, K
unbind = SUPER, J

# Rebind Omarchy functions to Alt
bindd = ALT, K, Show key bindings, exec, omarchy-menu-keybindings
bindd = ALT, J, Toggle window split, togglesplit

# Focus navigation
bindd = SUPER, H, Move focus left, movefocus, l
bindd = SUPER, J, Move focus down, movefocus, d
bindd = SUPER, K, Move focus up, movefocus, u
bindd = SUPER, L, Move focus right, movefocus, r

# Smart focus: move focus or switch workspace if single window
# Unbind Omarchy defaults first
unbind = SUPER, LEFT
unbind = SUPER, RIGHT
bindd = SUPER, LEFT, Smart focus left, exec, ~/.config/hypr/scripts/smart-focus.sh left
bindd = SUPER, RIGHT, Smart focus right, exec, ~/.config/hypr/scripts/smart-focus.sh right

# Swap windows with Super+Shift+HJKL (keyd swap doesn't work for Shift combos)
bindd = SUPER SHIFT, H, Swap window left, swapwindow, l
bindd = SUPER SHIFT, J, Swap window down, swapwindow, d
bindd = SUPER SHIFT, K, Swap window up, swapwindow, u
bindd = SUPER SHIFT, L, Swap window right, swapwindow, r

# Resize windows (horizontal)
bindd = SUPER SHIFT, comma, Shrink window width, resizeactive, -100 0
bindd = SUPER SHIFT, period, Grow window width, resizeactive, 100 0

# Resize windows (vertical)
bindd = SUPER SHIFT, bracketleft, Shrink window height, resizeactive, 0 -100
bindd = SUPER SHIFT, bracketright, Grow window height, resizeactive, 0 100

# Navigate workspaces with arrows
bindd = SUPER CTRL, LEFT, Previous workspace, workspace, r-1
bindd = SUPER CTRL, RIGHT, Next workspace, workspace, r+1

# =============================================================================
# Clipboard history
# =============================================================================
bindd = SUPER ALT, C, Clipboard history, exec, cliphist list | walker --dmenu | cliphist decode | wl-copy

# =============================================================================
# Run command (walker runner)
# =============================================================================
bindd = SUPER SHIFT, X, Run command, exec, ~/.bin/run-cmd

# =============================================================================
# Layouts
# =============================================================================
bindd = SUPER SHIFT, D, Toggle layout (dwindle/master), exec, hyprctl keyword general:layout $(hyprctl getoption general:layout -j | jq -r 'if .str == "dwindle" then "master" else "dwindle" end')
# Toggle floating removed - conflicts with file manager on ALT SHIFT F

# =============================================================================
# Audio
# =============================================================================
bindd = SUPER CTRL, A, Switch audio output, exec, omarchy-cmd-audio-switch
bindd = CTRL ALT, A, Switch audio output, exec, omarchy-cmd-audio-switch

# =============================================================================
# Cheatsheet
# =============================================================================
bindd = SUPER ALT, H, Show cheatsheet, exec, ghostty --class=floating --title=cheatsheet -e bash -c "cat ~/Omarchy/home/.cheatsheet; read -rsn1"

# =============================================================================
# Move windows with Super+Shift+number (mac-style Cmd+Shift+#)
# =============================================================================
bindd = SUPER SHIFT, 1, Move to workspace 1, movetoworkspace, 1
bindd = SUPER SHIFT, 2, Move to workspace 2, movetoworkspace, 2
bindd = SUPER SHIFT, 3, Move to workspace 3, movetoworkspace, 3
# Super+Shift+4 used for Logitech screenshot key
# bindd = SUPER SHIFT, 4, Move to workspace 4, movetoworkspace, 4
bindd = SUPER SHIFT, 5, Move to workspace 5, movetoworkspace, 5
bindd = SUPER SHIFT, 6, Move to workspace 6, movetoworkspace, 6
bindd = SUPER SHIFT, 7, Move to workspace 7, movetoworkspace, 7
bindd = SUPER SHIFT, 8, Move to workspace 8, movetoworkspace, 8
bindd = SUPER SHIFT, 9, Move to workspace 9, movetoworkspace, 9
bindd = SUPER SHIFT, 0, Move to workspace 10, movetoworkspace, 10
bindd = SUPER SHIFT, minus, Move to workspace 11, movetoworkspace, 11
bindd = SUPER SHIFT, equal, Move to workspace 12, movetoworkspace, 12

# =============================================================================
# Screenshots
# =============================================================================
bindd = SUPER CTRL, 2, Screenshot full, exec, sh -c 'd="$HOME/Screenshots/$(date +%Y/%m/%d)"; mkdir -p "$d"; f="$d/$(date +%H%M%S).png"; grim "$f" && echo -n "$f" | wl-copy && notify-send "Screenshot" "$f" -t 1500'
bindd = SUPER CTRL, 3, Screenshot selection, exec, sh -c 'd="$HOME/Screenshots/$(date +%Y/%m/%d)"; mkdir -p "$d"; f="$d/$(date +%H%M%S).png"; grim -g "$(slurp)" "$f" && echo -n "$f" | wl-copy && notify-send "Screenshot" "$f" -t 1500'
bindd = SUPER SHIFT, 4, Screenshot (Logitech key), exec, sh -c 'd="$HOME/Screenshots/$(date +%Y/%m/%d)"; mkdir -p "$d"; f="$d/$(date +%H%M%S).png"; grim "$f" && echo -n "$f" | wl-copy && notify-send "Screenshot" "$f" -t 1500'

# =============================================================================
# Mouse bindings
# mouse:275 = BTN_SIDE (back thumb) - gesture button
# mouse:276 = BTN_EXTRA (forward thumb)
# mouse:274 = BTN_MIDDLE - middle mouse button
# =============================================================================
# Super + scroll = workspace switching (unbind Omarchy defaults first)
unbind = SUPER, mouse_down
unbind = SUPER, mouse_up
bindd = SUPER, mouse_down, Next workspace, workspace, e+1
bindd = SUPER, mouse_up, Previous workspace, workspace, e-1

# Ctrl + scroll = volume control, Ctrl + middle mouse = mute toggle
bindde = CTRL, mouse_down, Volume up, exec, swayosd-client --output-volume raise
bindde = CTRL, mouse_up, Volume down, exec, swayosd-client --output-volume lower
bindd = CTRL, mouse:274, Toggle mute, exec, swayosd-client --output-volume mute-toggle

# Alt + scroll = resize window width
bindde = ALT, mouse_down, Grow width, resizeactive, 100 0
bindde = ALT, mouse_up, Shrink width, resizeactive, -100 0

# Super+Alt + scroll = resize window height
bindde = SUPER ALT, mouse_down, Shrink height, resizeactive, 0 -100
bindde = SUPER ALT, mouse_up, Grow height, resizeactive, 0 100

# Gesture button (mouse:278 = mouseback) = window switcher
bindd = , mouse:278, Window switcher, exec, hyprswitch gui --mod-key super --key w --close default

# Super + mouse buttons = swap windows
# mouse:275 = mouse1 (BTN_SIDE), mouse:276 = mouse2 (BTN_EXTRA)
bindd = SUPER, mouse:275, Swap window left, swapwindow, l
bindd = SUPER, mouse:276, Swap window right, swapwindow, r

# Alt + mouse buttons = smart focus (navigate windows/workspaces)
bindd = ALT, mouse:275, Smart focus left, exec, ~/.config/hypr/scripts/smart-focus.sh left
bindd = ALT, mouse:276, Smart focus right, exec, ~/.config/hypr/scripts/smart-focus.sh right

# =============================================================================
# Clamshell Mode
# =============================================================================
# Manual toggle (safe - only disables if external monitor active)
bindd = SUPER CTRL, M, Toggle clamshell mode, exec, ~/.config/hypr/scripts/toggle-clamshell.sh

# Auto lid switch (less safe - disabled for now)
# bindl = , switch:on:Lid Switch, exec, hyprctl keyword monitor eDP-1,disable
# bindl = , switch:off:Lid Switch, exec, hyprctl keyword monitor eDP-1,preferred,auto,2 && hyprctl dispatch workspace name:U

# =============================================================================
# Calculator (Super+Ctrl+C)
# =============================================================================
bindd = SUPER CTRL, C, Calculator, exec, ~/.bin/quick-calc

# File Search (Super+Ctrl+S) - rebind color picker to Super+Ctrl+R
# =============================================================================
unbind = SUPER CTRL, S
bindd = SUPER CTRL, R, Color picker, exec, pkill hyprpicker || hyprpicker -a
bindd = SUPER CTRL, S, File search, exec, ~/.bin/file-search
bindd = SUPER CTRL SHIFT, S, File search (reveal), exec, ~/.bin/file-search --reveal

# JHU VPN Menu (Super+Ctrl+J)
# =============================================================================
bindd = SUPER CTRL, J, JHU VPN, exec, ~/.bin/jhvpn-menu

# VPN Menu (Super+Ctrl+V) - Tailscale and other non-JHU VPNs
# =============================================================================
bindd = SUPER CTRL, V, VPN Menu, exec, ~/.bin/vpn-menu

# Clipboard Manager (Super+Alt+V) - moved from Super+Ctrl+V
# =============================================================================
bindd = SUPER ALT, V, Clipboard manager, exec, omarchy-launch-walker -m clipboard

# Display Mode Menu (Super+Ctrl+D)
# =============================================================================
bindd = SUPER CTRL, D, Display mode, exec, ~/.bin/display-menu

# =============================================================================
# Window Toggle (Super+Tab = last focused window across workspaces)
# IMPORTANT: Keep at END of file to override Omarchy defaults
# =============================================================================
unbind = SUPER, TAB
unbind = SUPER SHIFT, TAB
unbind = SUPER CTRL, TAB
bindd = SUPER, TAB, Toggle last window, exec, ~/.config/hypr/scripts/toggle-last-window.sh
bindd = SUPER SHIFT, TAB, Next workspace, workspace, e+1
bindd = SUPER CTRL, TAB, Previous workspace, workspace, e-1

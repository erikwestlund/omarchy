# Change the default Omarchy look'n'feel

# https://wiki.hyprland.org/Configuring/Variables/#general
general {
    # Minimal gaps
    gaps_in = 2
    gaps_out = 2

    # No border - use opacity to distinguish
    border_size = 0
    col.active_border = rgb(4a6a9a)
    col.inactive_border = rgb(1a1b26)


    # Default layout
    layout = dwindle
}

# Hide border when only one window on workspace
windowrule = border_size 0, match:workspace w[t1]

# Override Omarchy default opacity (0.97/0.9)
windowrule = opacity 0.93 override 0.25 override, match:class .*

# Terminal opacity (active/inactive)
windowrule = opacity 1.0 override 0.25 override, match:class com.mitchellh.ghostty
windowrule = opacity 1.0 override 0.25 override, match:class Alacritty
windowrule = opacity 1.0 override 0.25 override, match:class kitty

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    # Rounded window corners
    rounding = 6

    # Dim inactive windows more for contrast
    inactive_opacity = 0.25

    blur {
        enabled = true
        size = 8
        passes = 3
    }
}

# https://wiki.hyprland.org/Configuring/Dwindle-Layout/
dwindle {
    default_split_ratio = 1.15
    force_split = 2
}

# https://wiki.hyprland.org/Configuring/Master-Layout/
master {
    mfact = 0.5
}

# FreeRDP / WinApps - tile normally
windowrule = tile on, match:class ^(xfreerdp)$

# Pulse Secure VPN - fix blur/click issues
windowrule = no_blur on, match:class ^(pulseUI)$
windowrule = no_shadow on, match:class ^(pulseUI)$
windowrule = opaque on, match:class ^(pulseUI)$
windowrule = float on, match:class ^(pulseUI)$

# Agenda popup - floating, centered
windowrule = float on, match:title ^(agenda)$
windowrule = size 500 400, match:title ^(agenda)$
windowrule = center on, match:title ^(agenda)$

# Host-specific overrides (generated by Ansible)
source = ~/.config/hypr/looknfeel-host.conf

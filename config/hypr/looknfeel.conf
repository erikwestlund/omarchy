# Change the default Omarchy look'n'feel

# https://wiki.hyprland.org/Configuring/Variables/#general
general {
    # Minimal gaps
    gaps_in = 2
    gaps_out = 2

    # Thin neon border
    border_size = 2
    col.active_border = rgb(4a6a9a)
    col.inactive_border = rgb(1a1b26)

    # No border when only one window
    no_border_on_floating = false

    # Use master layout instead of dwindle
    # layout = master
}

# Hide border when only one window on workspace
windowrulev2 = noborder, onworkspace:w[t1]

# Override Omarchy default opacity (0.97/0.9)
windowrule = opacity 0.93 override 0.50 override, class:.*

# Terminal opacity (active/inactive)
windowrule = opacity 0.93 override 0.50 override, class:com.mitchellh.ghostty
windowrule = opacity 0.93 override 0.50 override, class:Alacritty
windowrule = opacity 0.93 override 0.50 override, class:kitty

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    # Rounded window corners
    rounding = 6

    # Dim inactive windows
    inactive_opacity = 0.50

    blur {
        enabled = true
        size = 8
        passes = 3
    }
}

# https://wiki.hyprland.org/Configuring/Dwindle-Layout/
dwindle {
    default_split_ratio = 1.15
    force_split = 2
}

# https://wiki.hyprland.org/Configuring/Master-Layout/
master {
    mfact = 0.5
}

# FreeRDP / WinApps - tile normally
windowrulev2 = tile, class:^(xfreerdp)$

# Pulse Secure VPN - fix blur/click issues
windowrulev2 = noblur, class:^(pulseUI)$
windowrulev2 = noshadow, class:^(pulseUI)$
windowrulev2 = opaque, class:^(pulseUI)$
windowrulev2 = float, class:^(pulseUI)$

# Agenda popup - floating, centered
windowrulev2 = float, title:^(agenda)$
windowrulev2 = size 500 400, title:^(agenda)$
windowrulev2 = center, title:^(agenda)$

# Host-specific overrides (generated by Ansible)
source = ~/.config/hypr/looknfeel-host.conf

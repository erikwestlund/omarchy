// VS Code Keybindings - Linux/Hyprland
// Built from scratch
[
    // Close window (not quit all) with Super+Q via keyd -> Ctrl+Q
    { "key": "ctrl+q", "command": "-workbench.action.quit" },
    { "key": "ctrl+q", "command": "workbench.action.closeWindow" },

    // Terminal toggle
    { "key": "ctrl+t", "command": "workbench.action.terminal.toggleTerminal" },

    // Go to symbol (Super+R)
    { "key": "ctrl+r", "command": "workbench.action.gotoSymbol" },

    // Line editing
    { "key": "ctrl+k", "command": "editor.action.deleteLines", "when": "editorTextFocus && !editorReadonly" },
    { "key": "ctrl+d", "command": "editor.action.copyLinesDownAction", "when": "editorTextFocus && !editorReadonly" },

    // Multi-cursor select next match (Super+D)
    { "key": "meta+d", "command": "editor.action.addSelectionToNextFindMatch", "when": "editorTextFocus" },

    // Toggle secondary sidebar (Super+Alt+O)
    { "key": "alt+meta+o", "command": "workbench.action.toggleAuxiliaryBar" },

    // Navigation: Ctrl+Up/Down = Page, Alt+Up/Down = Doc start/end
    { "key": "ctrl+up", "command": "cursorPageUp", "when": "editorTextFocus" },
    { "key": "ctrl+down", "command": "cursorPageDown", "when": "editorTextFocus" },
    { "key": "ctrl+shift+up", "command": "cursorPageUpSelect", "when": "editorTextFocus" },
    { "key": "ctrl+shift+down", "command": "cursorPageDownSelect", "when": "editorTextFocus" },
    { "key": "alt+up", "command": "cursorTop", "when": "editorTextFocus" },
    { "key": "alt+down", "command": "cursorBottom", "when": "editorTextFocus" },
    { "key": "alt+shift+up", "command": "editor.action.moveLinesUpAction", "when": "editorTextFocus && !editorReadonly" },
    { "key": "alt+shift+down", "command": "editor.action.moveLinesDownAction", "when": "editorTextFocus && !editorReadonly" },

    // R pipe operator (Super+Alt+M)
    { "key": "alt+meta+m", "command": "type", "args": { "text": " |> " }, "when": "editorTextFocus" },

    // Hide panel
    { "key": "ctrl+j", "command": "workbench.action.togglePanel" },

    // Switch between editor and terminal (Super+[/] via keyd -> Ctrl+[/])
    { "key": "ctrl+]", "command": "workbench.action.terminal.focus", "when": "!terminalFocus" },
    { "key": "ctrl+[", "command": "workbench.action.focusActiveEditorGroup", "when": "terminalFocus" },

    // Previous/next editor (Super+Alt+[/] via keyd -> Ctrl+Alt+[/])
    { "key": "ctrl+alt+[", "command": "workbench.action.previousEditor", "when": "!terminalFocus" },
    { "key": "ctrl+alt+]", "command": "workbench.action.nextEditor", "when": "!terminalFocus" },
    // Previous/next terminal (Super+Alt+[/] when in terminal)
    { "key": "ctrl+alt+[", "command": "workbench.action.terminal.focusPrevious", "when": "terminalFocus" },
    { "key": "ctrl+alt+]", "command": "workbench.action.terminal.focusNext", "when": "terminalFocus" },

    // Sidebar views (Super+Alt+X/E via keyd -> Ctrl+Alt+X/E)
    { "key": "alt+meta+x", "command": "workbench.view.extensions" },
    { "key": "ctrl+alt+e", "command": "workbench.view.explorer" },

    // Build task (Super+Alt+B via keyd -> Ctrl+Alt+B) - unbind default Ctrl+Shift+B to avoid conflict with browser
    { "key": "ctrl+shift+b", "command": "-workbench.action.tasks.build" },
    { "key": "ctrl+alt+b", "command": "workbench.action.tasks.build" },

    // Focus editor (Super+E via keyd -> Ctrl+E)
    { "key": "ctrl+e", "command": "workbench.action.focusActiveEditorGroup" },

    // Kill terminal with Super+W (via keyd -> Ctrl+W)
    { "key": "ctrl+w", "command": "workbench.action.terminal.kill", "when": "terminalFocus" },

    // Paste in terminal with Ctrl+V (normally requires Ctrl+Shift+V)
    { "key": "ctrl+v", "command": "workbench.action.terminal.paste", "when": "terminalFocus" },

    // New terminal/editor with Super+Alt+N - unbind defaults first
    { "key": "alt+meta+n", "command": "-aichat.newchataction" },
    { "key": "alt+meta+n", "command": "workbench.action.terminal.newInActiveWorkspace", "when": "terminalFocus" },
    { "key": "alt+meta+n", "command": "workbench.action.files.newUntitledFile", "when": "!terminalFocus" },

    // Tab switching with Ctrl+1-9, Ctrl+0 for tab 10
    { "key": "ctrl+1", "command": "workbench.action.openEditorAtIndex1" },
    { "key": "ctrl+2", "command": "workbench.action.openEditorAtIndex2" },
    { "key": "ctrl+3", "command": "workbench.action.openEditorAtIndex3" },
    { "key": "ctrl+4", "command": "workbench.action.openEditorAtIndex4" },
    { "key": "ctrl+5", "command": "workbench.action.openEditorAtIndex5" },
    { "key": "ctrl+6", "command": "workbench.action.openEditorAtIndex6" },
    { "key": "ctrl+7", "command": "workbench.action.openEditorAtIndex7" },
    { "key": "ctrl+8", "command": "workbench.action.openEditorAtIndex8" },
    { "key": "ctrl+9", "command": "workbench.action.openEditorAtIndex9" },
    { "key": "ctrl+0", "command": "workbench.action.lastEditorInGroup" },

    // Line continuation in terminal with Shift+Enter
    { "key": "shift+enter", "command": "workbench.action.terminal.sendSequence", "args": { "text": "\\\n" }, "when": "terminalFocus" }
]